{"version":15,"variables":[],"tiles":{"0":{"type":"data","title":"","query":"fetch dt.entity.host\n| fieldsAdd installerVersion\n| sort installerVersion","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"table","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"entity.name","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{},"sortBy":{"columnId":"[\"installerVersion\"]","direction":"ascending"}},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"categorical","dataMappings":{"value":"entity.name"},"displayedFields":["id"]},"histogram":{"dataMappings":[]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"1":{"type":"data","title":"","query":"fetch dt.entity.host\n| fieldsAdd toDouble(substring(installerVersion, from:0, to: 5)), alias:Version\n| fieldsRemove id, entity.name\n| summarize count(), alias:count, by:{Version,installerVersion}\n| sort Version desc","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"pieChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"absolute","groupingThresholdValue":0,"valueType":"relative","hideLabels":false,"groupingName":null},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"installerVersion","valueAxis":"count","categoryAxisLabel":"installerVersion","valueAxisLabel":"count"},"legend":{"position":"auto","hidden":false}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"entity.name","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[["values"]],"columnWidths":{}},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"blue","dataMappings":{"value":"Version"},"displayedFields":["installerVersion"]},"histogram":{"dataMappings":[{"valueAxis":"Version","rangeAxis":""},{"valueAxis":"count","rangeAxis":""}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"7":{"type":"code","title":"","input":"async function fetchReleaseNotesTable() {\n    const url = 'https://docs.dynatrace.com/docs/whats-new/release-notes/oneagent';\n    try {\n        const response = await fetch(url);\n        const body = await response.text();\n        \n        // Use a regular expression to find the table\n        const tableMatch = body.match(/<table[^>]*>([\\s\\S]*?)<\\/table>/);\n        if (!tableMatch) {\n            return { error: 'Table not found' };\n        }\n        \n        const tableHtml = tableMatch[1];\n        const rows = [];\n        const rowMatches = tableHtml.match(/<tr[^>]*>([\\s\\S]*?)<\\/tr>/g);\n        \n        if (rowMatches) {\n            rowMatches.forEach((rowHtml, rowIndex) => {\n                const columns = [];\n                const columnMatches = rowHtml.match(/<t[dh][^>]*>([\\s\\S]*?)<\\/t[dh]>/g);\n                if (columnMatches) {\n                    columnMatches.forEach(columnHtml => {\n                        const columnText = columnHtml.replace(/<[^>]+>/g, '').trim();\n                        columns.push(columnText);\n                    });\n                }\n                rows.push(columns);\n            });\n        }\n        \n        // Extract Version and Rollout start columns, ignoring the header row\n        const result = rows.slice(1).map(row => ({\n            Version: row[0],\n            Rollout_Start: row[1]\n        }));\n        \n        return result;\n    } catch (error) {\n        console.error('Error fetching the release notes table:', error);\n        return { error: 'Error fetching table' };\n    }\n}\n\nexport default async function main() {\n    const releaseNotesTable = await fetchReleaseNotesTable();\n    return releaseNotesTable;\n}\n","visualization":"table","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"element","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{"[\"Version\"]":151.109375}},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"categorical","dataMappings":{"value":"Version"},"displayedFields":["Rollout_Start"]},"histogram":{"dataMappings":[]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"9":{"type":"markdown","title":"","content":"## OneAgent Versions"},"10":{"type":"code","title":"","input":"async function fetchLatestVersion() {\n    const url = 'https://docs.dynatrace.com/docs/whats-new/release-notes/oneagent';\n    try {\n        const response = await fetch(url);\n        const body = await response.text();\n        \n        // Use a regular expression to find the version number\n        const versionMatch = body.match(/Release notes for Dynatrace OneAgent version (\\d+\\.\\d+)/);\n        const latestVersion = versionMatch ? parseFloat(versionMatch[1]) : null;\n        \n        return latestVersion;\n    } catch (error) {\n        console.error('Error fetching version:', error);\n        return null;\n    }\n}\n\nexport default async function main() {\n    const latestVersion = await fetchLatestVersion();\n    return latestVersion;\n}\n","visualization":"singleValue","visualizationSettings":{"thresholds":[{"id":1,"field":"element","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-status-ideal-default, #2f6863)"},"comparator":"≥","label":"","value":0},{"id":1,"color":{"Default":"var(--dt-colors-charts-status-warning-default, #eca440)"},"comparator":"≥","label":""},{"id":2,"color":{"Default":"var(--dt-colors-charts-status-critical-default, #c4233b)"},"comparator":"≥","label":""}]}],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{}},"singleValue":{"showLabel":true,"label":"Latest Version","prefixIcon":"OneAgentIcon","recordField":"element","autoscale":true,"alignment":"center","colorThresholdTarget":"background"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"blue","dataMappings":{"value":"element"},"displayedFields":[null]},"histogram":{"dataMappings":[{"valueAxis":"element","rangeAxis":""}]},"unitsOverrides":[{"identifier":"element","unitCategory":"unspecified","baseUnit":"count","displayUnit":null,"decimals":3,"suffix":"","delimiter":false,"added":1723583113984}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}}},"layouts":{"0":{"x":0,"y":7,"w":24,"h":7},"1":{"x":5,"y":1,"w":11,"h":6},"7":{"x":16,"y":1,"w":8,"h":6},"9":{"x":0,"y":0,"w":24,"h":1},"10":{"x":0,"y":1,"w":5,"h":6}},"importedWithCode":false}